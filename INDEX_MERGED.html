<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>INDEX_MERGED | Sign in</title>

  <style>
    :root{
      --blue-700:#1e40af;
      --blue-600:#2563eb;
      --blue-500:#3b82f6;
      --card:#ffffff;
      --muted:#6b7280;
      --ring:#e5e7eb;
      --shadow:0 18px 40px rgba(0,0,0,.18);
      --radius:22px;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      background: radial-gradient(1200px 900px at 80% -10%, #60a5fa 0%, #1e3a8a 55%, #0f172a 100%);
      font-family: system-ui,-apple-system,"Segoe UI",Roboto,Ubuntu,"Helvetica Neue",Arial;
      color:#0f172a;
    }
    .wrap{
      min-height:100%;
      display:flex; align-items:center; justify-content:center;
      padding:24px;
    }

    /* -------- Card ---------- */
    .card{
      width:min(460px, 92vw);
      background:var(--card);
      border-radius:28px;
      box-shadow:var(--shadow);
      padding:32px 28px;
    }
    .title{
      font-size:34px; font-weight:800; color:#0b1b3a; letter-spacing:.3px;
      margin:4px 0 4px;
      text-align:left; direction:ltr; /* مثل طرح پیوست */
    }
    .subtitle{color:var(--muted); font-size:13px; margin-bottom:22px; text-align:left; direction:ltr}

    .field{position:relative; margin-bottom:14px}
    .input{
      width:100%; padding:14px 16px;
      border:1px solid var(--ring); border-radius:12px;
      outline:none; background:#fff; font-size:14px;
      transition: box-shadow .15s, border-color .15s;
      direction:ltr; text-align:left;
    }
    .input:focus{border-color:#93c5fd; box-shadow:0 0 0 4px rgba(147,197,253,.35)}

    .show{
      position:absolute; left:10px; top:50%; transform:translateY(-50%);
      color:#2563eb; font-weight:700; font-size:12px; cursor:pointer; user-select:none;
    }

    .row{
      display:flex; align-items:center; justify-content:space-between;
      font-size:13px; color:#475569; margin:6px 2px 18px;
    }
    .row a{color:#1e40af; text-decoration:none}
    .row a:hover{text-decoration:underline}
    .row label{display:flex; align-items:center; gap:8px; cursor:pointer}
    .row input[type="checkbox"]{width:16px; height:16px}

    .btn{
      width:100%; border:none; cursor:pointer;
      border-radius:14px; padding:13px 16px; color:#fff;
      background: linear-gradient(180deg, var(--blue-500), var(--blue-700));
      font-weight:800; letter-spacing:.3px;
      box-shadow:0 10px 24px rgba(37,99,235,.45);
    }
    .foot{
      text-align:center; margin-top:18px; color:#475569; font-size:13px;
    }
    .foot a{color:#1e40af; text-decoration:none}
    .foot a:hover{text-decoration:underline}

    /* ===== Containers kept for your app logic ===== */
    #signupForm{display:none}
    #panelChoice{display:none; margin-top:16px}
    .panel-buttons{display:flex; gap:10px; flex-wrap:wrap; margin-top:10px}
    .panel-btn{padding:10px 12px; border-radius:10px; border:1px solid var(--ring); background:#fff; cursor:pointer}
    .select{padding:10px 12px; border:1px solid var(--ring); border-radius:10px; background:#fff}
    #panelFrame{display:none;width:100%;height:72vh;border:0;border-radius:18px; box-shadow:var(--shadow)}
  </style>
</head>
<body>

  <div class="wrap">
    <div class="card">
      <!-- ================= Sign in ================= -->
      <form id="loginForm" onsubmit="return false;">
        <h1 class="title">Sign in</h1>
        <div class="subtitle">Lorem ipsum dolor sit amet, consectetur adipiscing elit</div>

        <div class="field">
          <input id="nationalIdInput" class="input" placeholder="User Name / National ID"/>
        </div>

        <div class="field">
          <input id="passwordInput" type="password" class="input" placeholder="Password"/>
          <span id="togglePwd" class="show">SHOW</span>
        </div>

        <div class="row">
          <label><input type="checkbox" id="rememberMe"> Remember me</label>
          <a href="#" id="forgotLink">Forgot Password?</a>
        </div>

        <button id="loginBtn" class="btn">Sign in</button>

        <div class="foot">
          Don’t have an account? <a id="toSignupLink" href="#">Sign Up</a>
        </div>
      </form>

      <!-- ================== Signup (placeholder – IDs kept) ================== -->
      <form id="signupForm" onsubmit="return false;">
        <!-- این بخش را منطق فعلی شما پر می‌کند -->
        <h1 class="title" style="direction:rtl;text-align:right">ثبت‌نام</h1>
        <div class="field">
          <input id="signupCompanyCode" class="input" placeholder="نام تجاری شرکت"/>
        </div>
        <div id="companyFields" style="display:none">
          <div class="field"><select id="signupCompany" class="select" style="width:100%"></select></div>
          <div class="field"><select id="signupProject" class="select" style="width:100%"></select></div>
        </div>
        <button id="signupBtn" class="btn">تأیید ثبت‌نام</button>
        <div id="companyCodeMsg" class="subtitle" style="margin-top:8px;direction:rtl;text-align:right"></div>
      </form>

      <!-- ================= Panel choice ================= -->
      <div id="panelChoice">
        <div class="panel-buttons" style="justify-content:flex-start">
          <div id="companySelectForPanel" style="display:none; align-items:center; gap:8px">
            <label for="panelCompanySelect" style="font-size:12px;color:#475569">شرکت</label>
            <select id="panelCompanySelect" class="select"></select>
          </div>
          <button id="companyPanelBtn" class="panel-btn">پنل شرکت</button>
          <button id="adminPanelBtn" class="panel-btn">پنل ادمین</button>
        </div>
      </div>

      <!-- Iframe برای نمایش پنل‌ها -->
      <iframe id="panelFrame" src=""></iframe>
    </div>
  </div>

  <!-- ======= Tiny helpers (اختیاری – نمایش/پنهان رمز) ======= -->
  <script>
    (function () {
      var pwd = document.getElementById('passwordInput');
      var tgl = document.getElementById('togglePwd');
      if (pwd && tgl) {
        tgl.addEventListener('click', function(){
          if (pwd.type === 'password'){ pwd.type='text'; tgl.textContent='HIDE'; }
          else { pwd.type='password'; tgl.textContent='SHOW'; }
        });
      }
    })();
    /* نکته مهم: اسکریپت منطق اصلی پروژه شما (ورود/ثبت‌نام/انتخاب پنل/پیام‌های iframe)
       باید مثل قبل در همین فایل، پایین این اسکریپت قرار بگیرد تا به همین IDs متصل بماند. */
  </script>

</body>
</html>
